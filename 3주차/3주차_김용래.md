# Class 정리
### class가 필요한 이유
>클래스를 사용해서 개념을 만들고 하위 개념을 관리한다

```java
public class ClassStart2 {
    public static void main(String[] args) {
        String[] studentNames = {"학생1", "학생2"};
        int[] studentAges = {15, 16};
        int[] studentGrade = {90, 80};

        for (int i = 0; i < studentNames.length; i++) {
            System.out.println("이름:" + studentNames[i] + " 나이:" + studentAges[i] + " 성적:" + studentGrade[i]);
        }

    }
}
```
>복잡한 코드
```java
public class Student {
    String name;
    int age;
    int grade;
}
```
>class를 통해 학생 클래스를 정의하고
```java
public class ClassStart3 {
    public static void main(String[] args) {
    Student student1;
    student1 = new Student();
    student1.name = "학생1";
    student1.age = 15;
    student1.grade = 90;
    Student student2 = new Student();
    student2.name = "학생2";
    student2.age = 16;
    student2.grade = 80;
    System.out.println("이름:" + student1.name + " 나이:" + student1.age + " 성
    적:" + student1.grade);
    System.out.println("이름:" + student2.name + " 나이:" + student2.age + " 성
    적:" + student2.grade);
    }
}```
>비교적 간단해졌다
```java
Student student1
```
>Student 타입을 받을 수 있는 변수를 선언
>int는 정수를, String은 문자를 담을 수 있듯이 Student는 Student 타입의 객체(인스턴스)를 받을 수 있다
```java
student1 = new Student()
```
>new Student()는 new:새롭게 생성한다는 의미이고 Student 클래스 정보를 기반으로 새로운 객체를 생성하라는 뜻이다 

### class
클래스는 객체를 생성하기 위한 '틀' 또는 '설계도'이다. ex) 붕어빵 틀

### object
객체는 클래스에서 정의한 속성과 기능을 가진 실체이다. 객체는 서로 독립적인 상태를 가진다

```java
public class ClassStart5 {
    public static void main(String[] args) {
    Student student1 = new Student();
    student1.name = "학생1";
    student1.age = 15;
    student1.grade = 90;
    Student student2 = new Student();
    student2.name = "학생2";
    student2.age = 16;
    student2.grade = 80;
    
    Student[] students = new Student[]{student1, student2};
    
    for (int i = 0; i < students.length; i++) {
    System.out.println("이름:" + students[i].name + " 나이:" +
    students[i].age + " 성적:" + students[i].grade);
    }
    }
}
```
>위 내용을 바탕으로 리펙토링한 모습

# 기본형과 참조형
변수의 데이터 타입을 가장 크게 보면 기본형과 참조형으로 분류할 수 있다. 사용하는 값을 변수에 직접 넣을 수 있는 기본형, 그리고 전에 본 Student student1 과 같이 객체가 저장된 메모리의 위치를 가리키는 참조값을 넣을 수 있는 참조형으로 분류할 수 있다.
> 기본형: int, longm double, boolean처럼 변수에 사용할 값을 직접 넣을 수 있는 데이터 타입을 기본형이라 한다

>참조형: Student sutdent1, int[] students 와 같이 데이터에 접근하기 위한 참조(주소)를 저장하는 데이터 타입을 참조형이라 한다. 

코드로 살펴보자!
```java
int a = 10, b = 20;
int sum = a + b;
```
기본형은 변수에 실제 사용하는 값이 담겨있다. 따라서 +. -와 같은 연산이 가능하다.

```java
Student s1 = new Student();
Student s2 = new Student();
s1 = s2 // 오류 발생
```
참조형은 변수에 객체의 위치인 참조값이 들어있다. 참조값은 계산에 사용할 수 없다. 따라서 오류가 발생한다

>tip!
기본형을 제외한 나머지는 모두 참조형이다.

```java
public class VarChange1 {
    public static void main(String[] args) {
    int a = 10;
    int b = a;
    System.out.println("a = " + a);
    System.out.println("b = " + b);
    //a 변경
    a = 20;
    System.out.println("변경 a = 20");
    System.out.println("a = " + a);
    System.out.println("b = " + b);
    //b 변경
    b = 30;
    System.out.println("변경 b = 30");
    System.out.println("a = " + a);
    System.out.println("b = " + b);
    }
}
```
>핵심은 int b = a 라고 했을 때 변수에 들어있는 값을 복사해서 전달한다는 점이다. 따라서 a=20, b=30 이라고 했을 때 각각 본인의 값만 변경되는 것을 확인할 수 있다.

```java
public class VarChange2 {
    public static void main(String[] args) {
    Data dataA = new Data();
    dataA.value = 10;
    Data dataB = dataA;
    System.out.println("dataA 참조값=" + dataA);
    System.out.println("dataB 참조값=" + dataB);
    System.out.println("dataA.value = " + dataA.value);
    System.out.println("dataB.value = " + dataB.value);
    //dataA 변경
    dataA.value = 20;
    System.out.println("변경 dataA.value = 20");
    System.out.println("dataA.value = " + dataA.value);
    System.out.println("dataB.value = " + dataB.value);
    //dataB 변경
    dataB.value = 30;
    System.out.println("변경 dataB.value = 30");
    System.out.println("dataA.value = " + dataA.value);
    System.out.println("dataB.value = " + dataB.value);
    }
    }
```
> dataA 변수는 Data 클래스를 통해서 만들었기 때문에 참조형이다. 이 변수는 Data형 객체의 참조값을 저장한다. Data 객체를 생성하고, 참조값을 dataA에 저장한다. 그리고 객체의 value 변수에 값 10을 저장했다

## 대원칙: 자바는 항상 변수의 값을 복사해서 대입한다.

```java
public class NullMain1 {
    public static void main(String[] args) {
    Data data = null;
    System.out.println("1. data = " + data);
    data = new Data();
    System.out.println("2. data = " + data);
    data = null;
    System.out.println("3. data = " + data);
 }
}
```
> 실행결과
> 1. data = null
>2. data = ref.Data@x001
>3. data = null

# 객체 지향 프로그래밍

### 절차 지향 프로그래밍 vs 객체 지향 프로그래밍

```java
public class MusicPlayerMain1 {
    public static void main(String[] args) {
    int volume = 0;
    boolean isOn = false;
    //음악 플레이어 켜기
    isOn = true;
    System.out.println("음악 플레이어를 시작합니다");
    //볼륨 증가
    volume++;
    System.out.println("음악 플레이어 볼륨:" + volume);
    //볼륨 증가
    volume++;
    System.out.println("음악 플레이어 볼륨:" + volume);
    //볼륨 감소
    volume--;
    System.out.println("음악 플레이어 볼륨:" + volume);
    //음악 플레이어 상태
    System.out.println("음악 플레이어 상태 확인");
    if (isOn) {
    System.out.println("음악 플레이어 ON, 볼륨:" + volume);
    } else {
    System.out.println("음악 플레이어 OFF");
    }
    //음악 플레이어 끄기
    isOn = false;
    System.out.println("음악 플레이어를 종료합니다");
    }
}
```
>절차 지향 음악 플레이어1
```java
public static void main(String[] args) {
    MusicPlayerData data = new MusicPlayerData();
    //음악 플레이어 켜기
    on(data);
    //볼륨 증가
    volumeUp(data);
    //볼륨 증가
    volumeUp(data);
    //볼륨 감소
    volumeDown(data);
    //음악 플레이어 상태
    showStatus(data);
    //음악 플레이어 끄기
    off(data);
    }
    static void on(MusicPlayerData data) {
    data.isOn = true;
    System.out.println("음악 플레이어를 시작합니다");
    }
    static void off(MusicPlayerData data) {
    data.isOn = false;
    System.out.println("음악 플레이어를 종료합니다");
    }
    static void volumeUp(MusicPlayerData data) {
    data.volume++;
    System.out.println("음악 플레이어 볼륨:" + data.volume);
    }
    static void volumeDown(MusicPlayerData data) {
    data.volume--;
    System.out.println("음악 플레이어 볼륨:" + data.volume);
    }
    static void showStatus(MusicPlayerData data) {
    System.out.println("음악 플레이어 상태 확인");
    if (data.isOn) {
    System.out.println("음악 플레이어 ON, 볼륨:" + data.volume);
    } else {
    System.out.println("음악 플레이어 OFF");
    }
 }
```
>리펙토링한 코드

```java
public class MusicPlayer {
    int volume = 0;
    boolean isOn = false;
    void on() {
    isOn = true;
    System.out.println("음악 플레이어를 시작합니다");
    }
    void off() {
    isOn = false;
    System.out.println("음악 플레이어를 종료합니다");
    }
    void volumeUp() {
    volume++;
    System.out.println("음악 플레이어 볼륨:" + volume);
    }
    void volumeDown() {
    volume--;
    System.out.println("음악 플레이어 볼륨:" + volume);
    }
    void showStatus() {
    System.out.println("음악 플레이어 상태 확인");
    if (isOn) {
    System.out.println("음악 플레이어 ON, 볼륨:" + volume);
    } else {
    System.out.println("음악 플레이어 OFF");
    }
    }
}
```
>객체 지향으로 리펙토링
```java
public class MusicPlayerMain4 {
    public static void main(String[] args) {
    MusicPlayer player = new MusicPlayer();
    //음악 플레이어 켜기
    player.on();
    //볼륨 증가
    player.volumeUp();
    //볼륨 증가
    player.volumeUp();
    //볼륨 감소
    player.volumeDown();
    //음악 플레이어 상태
    player.showStatus();
    //음악 플레이어 끄기
    player.off();
    }
}
```

# 생성자
코드로 살펴보기
```java
public class MemberInit {
 String name;
 int age;
 int grade;
}
```
```java
public class MethodInitMain1 {
    public static void main(String[] args) {
    MemberInit member1 = new MemberInit();
    member1.name = "user1";
    member1.age = 15;
    member1.grade = 90;
    MemberInit member2 = new MemberInit();
    member2.name = "user2";
    member2.age = 16;
    member2.grade = 80;
    MemberInit[] members = {member1, member2};
    for (MemberInit s : members) {
    System.out.println("이름:" + s.name + " 나이:" + s.age + " 성적:" +
    s.grade);
    }
 }
}
```
>회원 객체를 사용하려면 객체를 생성하 마자 초기값을 설정해야하니 매서드를 사용해 반복을 제거
```java
public class MethodInitMain2 {
    public static void main(String[] args) {
    MemberInit member1 = new MemberInit();
    initMember(member1, "user1", 15, 90);
    MemberInit member2 = new MemberInit();
    initMember(member2, "user2", 16, 80);
    MemberInit[] members = {member1, member2};
    for (MemberInit s : members) {
    System.out.println("이름:" + s.name + " 나이:" + s.age + " 성적:" +
    s.grade);
    }
    }
    static void initMember(MemberInit member, String name, int age, int grade) {
    member.name = name;
    member.age = age;
    member.grade = grade;
    }
}
```
### this
> 매개변수의 이름과 멤버 변수의 이름이 같은 경우 this를 사용해서 둘을 명확하게 구분해야 한다.
> this는 인스턴스 자신을 가리킨다

